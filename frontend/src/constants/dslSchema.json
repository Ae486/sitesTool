{
  "navigate": {
    "label": "打开页面",
    "description": "导航到指定 URL",
    "fields": [
      { "name": "url", "label": "URL", "type": "text", "placeholder": "https://example.com", "required": true },
      { "name": "timeout", "label": "超时时间(毫秒)", "type": "number", "placeholder": "默认30000", "advanced": true }
    ]
  },
  "click": {
    "label": "点击元素",
    "description": "点击页面上的元素（默认点击元素中心）",
    "fields": [
      { "name": "selector", "label": "选择器", "type": "text", "placeholder": "#button 或 text=按钮文本", "required": true, "hasAutoParser": true },
      { "name": "force", "label": "强制点击", "type": "boolean", "placeholder": "跳过可见性检查", "advanced": true },
      { "name": "button", "label": "鼠标按钮", "type": "select", "options": [
        { "value": "left", "label": "左键" },
        { "value": "right", "label": "右键" },
        { "value": "middle", "label": "中键" }
      ], "advanced": true },
      { "name": "click_count", "label": "点击次数", "type": "number", "placeholder": "1=单击, 2=双击", "advanced": true },
      { "name": "position_x", "label": "相对X坐标", "type": "number", "placeholder": "相对元素左上角", "advanced": true },
      { "name": "position_y", "label": "相对Y坐标", "type": "number", "placeholder": "相对元素左上角", "advanced": true },
      { "name": "timeout", "label": "超时(毫秒)", "type": "number", "placeholder": "默认30000", "advanced": true }
    ]
  },
  "dblclick": {
    "label": "双击元素",
    "description": "双击页面上的元素",
    "fields": [
      { "name": "selector", "label": "选择器", "type": "text", "placeholder": "#button", "required": true, "hasAutoParser": true },
      { "name": "force", "label": "强制点击", "type": "boolean", "advanced": true },
      { "name": "timeout", "label": "超时(毫秒)", "type": "number", "placeholder": "默认30000", "advanced": true }
    ]
  },
  "input": {
    "label": "输入文本",
    "description": "向输入框填入内容（支持变量 {{var}}）",
    "fields": [
      { "name": "selector", "label": "选择器", "type": "text", "placeholder": "#username", "required": true, "hasAutoParser": true },
      { "name": "value", "label": "输入值", "type": "text", "placeholder": "要输入的内容或 {{变量名}}", "required": true },
      { "name": "clear", "label": "先清空", "type": "boolean", "placeholder": "输入前清空原有内容", "advanced": true },
      { "name": "delay", "label": "输入延迟(毫秒)", "type": "number", "placeholder": "模拟打字速度", "advanced": true },
      { "name": "timeout", "label": "超时(毫秒)", "type": "number", "placeholder": "默认30000", "advanced": true }
    ]
  },
  "wait_for": {
    "label": "等待元素",
    "description": "等待元素出现",
    "fields": [
      { "name": "selector", "label": "选择器", "type": "text", "placeholder": "#element", "required": true, "hasAutoParser": true },
      { "name": "state", "label": "等待状态", "type": "select", "options": [
        { "value": "visible", "label": "可见" },
        { "value": "hidden", "label": "隐藏" },
        { "value": "attached", "label": "存在于DOM" },
        { "value": "detached", "label": "从DOM移除" }
      ], "advanced": true },
      { "name": "timeout", "label": "超时时间(毫秒)", "type": "number", "placeholder": "默认10000" }
    ]
  },
  "wait_time": {
    "label": "等待时间",
    "description": "固定等待指定时间（毫秒）",
    "fields": [
      { "name": "duration", "label": "时长(毫秒)", "type": "number", "placeholder": "2000", "required": true }
    ]
  },
  "extract": {
    "label": "提取数据",
    "description": "提取元素内容到变量",
    "fields": [
      { "name": "selector", "label": "选择器", "type": "text", "placeholder": "#points", "required": true, "hasAutoParser": true },
      { "name": "variable", "label": "变量名", "type": "text", "placeholder": "current_points", "required": true },
      { "name": "attribute", "label": "属性名", "type": "text", "placeholder": "可选：提取属性值如 href、value", "advanced": true }
    ]
  },
  "screenshot": {
    "label": "截图",
    "description": "保存当前页面截图",
    "fields": [
      { "name": "path", "label": "保存路径", "type": "text", "placeholder": "可选，默认自动命名" },
      { "name": "full_page", "label": "全页模式", "type": "boolean" },
      { "name": "selector", "label": "元素截图", "type": "text", "placeholder": "可选：只截取指定元素", "hasAutoParser": true, "advanced": true }
    ]
  },
  "select": {
    "label": "下拉选择",
    "description": "选择下拉框选项",
    "fields": [
      { "name": "selector", "label": "选择器", "type": "text", "placeholder": "#city", "required": true, "hasAutoParser": true },
      { "name": "value", "label": "选项值", "type": "text", "placeholder": "shanghai", "required": true },
      { "name": "timeout", "label": "超时(毫秒)", "type": "number", "placeholder": "默认30000", "advanced": true }
    ]
  },
  "checkbox": {
    "label": "复选框",
    "description": "勾选或取消复选框",
    "fields": [
      { "name": "selector", "label": "选择器", "type": "text", "placeholder": "#agree", "required": true, "hasAutoParser": true },
      { "name": "checked", "label": "是否勾选", "type": "boolean", "required": true },
      { "name": "force", "label": "强制操作", "type": "boolean", "advanced": true },
      { "name": "timeout", "label": "超时(毫秒)", "type": "number", "placeholder": "默认30000", "advanced": true }
    ]
  },
  "scroll": {
    "label": "滚动页面",
    "description": "滚动到指定位置或元素",
    "fields": [
      { "name": "selector", "label": "选择器", "type": "text", "placeholder": "可选：滚动到元素", "hasAutoParser": true },
      { "name": "x", "label": "X 坐标", "type": "number", "placeholder": "横向滚动距离" },
      { "name": "y", "label": "Y 坐标", "type": "number", "placeholder": "纵向滚动距离" },
      { "name": "behavior", "label": "滚动效果", "type": "select", "options": [
        { "value": "smooth", "label": "平滑滚动" },
        { "value": "instant", "label": "立即滚动" }
      ], "advanced": true }
    ]
  },
  "hover": {
    "label": "鼠标悬停",
    "description": "鼠标悬停在元素上",
    "fields": [
      { "name": "selector", "label": "选择器", "type": "text", "placeholder": "#menu-item", "required": true, "hasAutoParser": true },
      { "name": "force", "label": "强制悬停", "type": "boolean", "advanced": true },
      { "name": "timeout", "label": "超时(毫秒)", "type": "number", "placeholder": "默认30000", "advanced": true }
    ]
  },
  "keyboard": {
    "label": "键盘操作",
    "description": "按下键盘按键（如 Enter, Tab, Escape）",
    "fields": [
      { "name": "key", "label": "按键", "type": "text", "placeholder": "Enter / Tab / Escape / Control+c", "required": true },
      { "name": "delay", "label": "按键延迟(毫秒)", "type": "number", "placeholder": "按下到释放的间隔", "advanced": true }
    ]
  },
  "set_variable": {
    "label": "设置变量",
    "description": "设置一个变量的值",
    "fields": [
      { "name": "variable", "label": "变量名", "type": "text", "placeholder": "my_var", "required": true },
      { "name": "value", "label": "值", "type": "text", "placeholder": "变量值或 {{其他变量}}", "required": true }
    ]
  },
  "if_exists": {
    "label": "条件判断",
    "description": "如果元素存在则标记变量为 true",
    "fields": [
      { "name": "selector", "label": "选择器", "type": "text", "placeholder": "#success-message", "required": true, "hasAutoParser": true },
      { "name": "variable", "label": "结果变量", "type": "text", "placeholder": "element_found", "required": true },
      { "name": "timeout", "label": "检测超时(毫秒)", "type": "number", "placeholder": "默认3000", "advanced": true }
    ]
  },
  "if_else": {
    "label": "条件分支",
    "description": "根据条件执行不同分支：支持变量判断、元素检测、文本比较等多种条件",
    "container": true,
    "containerLabel": "条件成立时执行",
    "hasElse": true,
    "elseLabel": "条件不成立时执行",
    "fields": [
      { 
        "name": "condition_type", 
        "label": "条件类型", 
        "type": "select",
        "options": [
          { "value": "variable_truthy", "label": "变量为真" },
          { "value": "variable_equals", "label": "变量等于值" },
          { "value": "variable_contains", "label": "变量包含文本" },
          { "value": "variable_greater", "label": "变量大于数值" },
          { "value": "variable_less", "label": "变量小于数值" },
          { "value": "element_exists", "label": "元素存在" },
          { "value": "element_visible", "label": "元素可见" },
          { "value": "element_text_equals", "label": "元素文本等于" },
          { "value": "element_text_contains", "label": "元素文本包含" }
        ],
        "placeholder": "选择条件类型",
        "required": true
      },
      { "name": "condition_variable", "label": "变量名", "type": "text", "placeholder": "用于变量类条件，如 login_success", "showWhen": ["variable_truthy", "variable_equals", "variable_contains", "variable_greater", "variable_less"] },
      { "name": "condition_selector", "label": "元素选择器", "type": "text", "placeholder": "用于元素类条件，如 #message", "hasAutoParser": true, "showWhen": ["element_exists", "element_visible", "element_text_equals", "element_text_contains"] },
      { "name": "condition_value", "label": "比较值", "type": "text", "placeholder": "期望的值，如 success 或 100", "showWhen": ["variable_equals", "variable_contains", "variable_greater", "variable_less", "element_text_equals", "element_text_contains"] },
      { "name": "timeout", "label": "超时时间(毫秒)", "type": "number", "placeholder": "元素检测超时，默认3000", "showWhen": ["element_exists", "element_visible", "element_text_equals", "element_text_contains"], "advanced": true }
    ]
  },
  "assert_text": {
    "label": "断言文本",
    "description": "验证元素包含指定文本（失败则中断）",
    "fields": [
      { "name": "selector", "label": "选择器", "type": "text", "placeholder": "#message", "required": true, "hasAutoParser": true },
      { "name": "expected", "label": "期望文本", "type": "text", "placeholder": "包含的文本内容", "required": true },
      { "name": "timeout", "label": "超时(毫秒)", "type": "number", "placeholder": "默认5000", "advanced": true }
    ]
  },
  "assert_visible": {
    "label": "断言可见",
    "description": "验证元素可见（失败则中断）",
    "fields": [
      { "name": "selector", "label": "选择器", "type": "text", "placeholder": "#element", "required": true, "hasAutoParser": true },
      { "name": "timeout", "label": "超时时间(毫秒)", "type": "number", "placeholder": "默认5000" }
    ]
  },
  "loop": {
    "label": "循环执行",
    "description": "重复执行内部步骤指定次数",
    "container": true,
    "containerLabel": "循环体",
    "fields": [
      { "name": "times", "label": "循环次数", "type": "number", "placeholder": "3", "required": true },
      { "name": "index_variable", "label": "索引变量", "type": "text", "placeholder": "可选：存储当前索引(从0开始)", "advanced": true }
    ]
  },
  "extract_all": {
    "label": "批量提取",
    "description": "提取所有匹配元素的文本到数组变量",
    "fields": [
      { "name": "selector", "label": "选择器", "type": "text", "placeholder": ".item-code", "required": true, "hasAutoParser": true },
      { "name": "variable", "label": "数组变量名", "type": "text", "placeholder": "all_codes", "required": true },
      { "name": "attribute", "label": "属性名", "type": "text", "placeholder": "可选：提取属性值", "advanced": true },
      { "name": "limit", "label": "最大数量", "type": "number", "placeholder": "可选：限制提取数量", "advanced": true }
    ]
  },
  "loop_array": {
    "label": "遍历数组",
    "description": "遍历数组变量，每次将当前元素存入指定变量",
    "container": true,
    "containerLabel": "遍历体",
    "fields": [
      { "name": "array_variable", "label": "数组变量", "type": "text", "placeholder": "all_codes", "required": true },
      { "name": "item_variable", "label": "元素变量", "type": "text", "placeholder": "current_code", "required": true },
      { "name": "index_variable", "label": "索引变量", "type": "text", "placeholder": "可选：存储当前索引", "advanced": true }
    ]
  },
  "new_tab": {
    "label": "新建标签页",
    "description": "打开新标签页并导航到URL",
    "fields": [
      { "name": "url", "label": "URL", "type": "text", "placeholder": "https://example.com", "required": true },
      { "name": "tab_variable", "label": "标签变量", "type": "text", "placeholder": "可选：存储标签引用", "advanced": true }
    ]
  },
  "switch_tab": {
    "label": "切换标签页",
    "description": "切换到指定索引的标签页（0为第一个）",
    "fields": [
      { "name": "index", "label": "标签索引", "type": "number", "placeholder": "0 = 第一个标签页", "required": true }
    ]
  },
  "close_tab": {
    "label": "关闭标签页",
    "description": "关闭当前标签页",
    "fields": []
  },
  "random_delay": {
    "label": "随机延迟",
    "description": "等待随机时间（模拟人类行为）",
    "fields": [
      { "name": "min", "label": "最小毫秒", "type": "number", "placeholder": "500", "required": true },
      { "name": "max", "label": "最大毫秒", "type": "number", "placeholder": "2000", "required": true }
    ]
  },
  "try_click": {
    "label": "尝试点击",
    "description": "尝试点击元素，如不存在则跳过（不报错）",
    "fields": [
      { "name": "selector", "label": "选择器", "type": "text", "placeholder": "#optional-button", "required": true, "hasAutoParser": true },
      { "name": "timeout", "label": "超时时间(毫秒)", "type": "number", "placeholder": "默认3000" }
    ]
  },
  "eval_js": {
    "label": "执行JS",
    "description": "在页面中执行 JavaScript 代码",
    "fields": [
      { "name": "script", "label": "JS代码", "type": "text", "placeholder": "return document.title", "required": true },
      { "name": "variable", "label": "结果变量", "type": "text", "placeholder": "可选：存储返回值" }
    ]
  },
  "upload_file": {
    "label": "上传文件",
    "description": "选择文件进行上传",
    "fields": [
      { "name": "selector", "label": "文件输入框", "type": "text", "placeholder": "input[type=file]", "required": true, "hasAutoParser": true },
      { "name": "file_path", "label": "文件路径", "type": "text", "placeholder": "/path/to/file.pdf", "required": true }
    ]
  },
  "frame_switch": {
    "label": "切换Frame",
    "description": "切换到 iframe 内进行操作",
    "fields": [
      { "name": "selector", "label": "Frame选择器", "type": "text", "placeholder": "#myIframe 或 iframe[name=xxx]", "required": true, "hasAutoParser": true }
    ]
  },
  "frame_main": {
    "label": "返回主Frame",
    "description": "从 iframe 返回主页面",
    "fields": []
  },
  "dialog_handle": {
    "label": "处理弹窗",
    "description": "处理 alert/confirm/prompt 弹窗",
    "fields": [
      { "name": "action", "label": "操作", "type": "select", "options": [
        { "value": "accept", "label": "确认(OK)" },
        { "value": "dismiss", "label": "取消(Cancel)" }
      ], "required": true },
      { "name": "prompt_text", "label": "Prompt输入", "type": "text", "placeholder": "仅prompt弹窗需要填写", "advanced": true }
    ]
  },
  "drag_drop": {
    "label": "拖拽元素",
    "description": "将元素拖拽到目标位置",
    "fields": [
      { "name": "source_selector", "label": "源元素选择器", "type": "text", "placeholder": "#drag-item", "required": true, "hasAutoParser": true },
      { "name": "target_selector", "label": "目标元素选择器", "type": "text", "placeholder": "#drop-zone", "required": true, "hasAutoParser": true },
      { "name": "force", "label": "强制拖拽", "type": "boolean", "advanced": true }
    ]
  }
}
